<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxQBDwk3cvr1bt8YVL5m6bJGrFEmzrSbCrH1roypLjJr4AbbteCKh9Y6gQVYexdY85QA2HG5nQFLWpRp69zFSPDJ9" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxoxUgsBRs2yjjBBcfeCc8XigM7erXHmjJg2tjdGxNBxwTYuDonuYswXqRStaCA2b3rTEPCgPwixJmAVrea1qAHHU" rel="stylesheet" type="text/css"><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VujAQ3bHzgNYiC3C61DJwUmXP7xW6bB8tT92xAKhDyu5vXReakaHVSrqJfurggZdCJVuAf3B7AujNBvkJAcz974uH" type="text/javascript"></script></head><body><div id="clerk"></div><script>let viewer = nextjournal.clerk.sci_viewer
let doc = "{:nextjournal/value [{:nextjournal/value \"# [Day 17](https://adventofcode.com/2021/day/17)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(ns advent-of-code-2021.day17\\n  (:require [clojure.java.io :as io]\\n            [clojure.set :as sets]\\n            [clojure.string :as string]\\n            [nextjournal.clerk :as clerk]\\n            [nextjournal.clerk.viewer :as v]))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"ojure.core$nil_QMARK_ 0x2670435 \\\\\\\"clojure.core$nil_QMARK_@2670435\\\\\\\"\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Start with functions to simulate the behavior described.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn next-vx\\n  [vx]\\n  (if (= 0 vx) vx (+ vx (if (< vx 1) 1 -1))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$next_vx 0xc73a249 \\\\\\\"advent_of_code_2021.day17$next_vx@c73a249\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn next-velocity\\n  [[vx vy]]\\n  [(next-vx vx) (dec vy)])\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$next_velocity 0x3e5aa683 \\\\\\\"advent_of_code_2021.day17$next_velocity@3e5aa683\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn vec+\\n  [[x0 y0] [x1 y1]]\\n  [(+ x0 x1) (+ y0 y1)])\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$vec_PLUS_ 0x776095f5 \\\\\\\"advent_of_code_2021.day17$vec_PLUS_@776095f5\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn init\\n  [iv]\\n  {:vel iv\\n   :pos [0 0]})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$init 0x49537d84 \\\\\\\"advent_of_code_2021.day17$init@49537d84\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn step\\n  [{:keys [vel pos] :as state}]\\n  {:pos (vec+ pos vel)\\n   :vel (next-velocity vel)})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$step 0x5823ff0d \\\\\\\"advent_of_code_2021.day17$step@5823ff0d\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" No need to write a function that parses just copy to the representation used here.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" target area: x=48..70, y=-189..-148\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def real-target\\n  {:min-x 48\\n   :max-x 70\\n   :min-y -189\\n   :max-y -148})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :max-x, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 70, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :max-y, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value -148, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :min-x, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 48, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :min-y, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value -189, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_QMARK___5429 0x64110f88 \\\\\\\"clojure.core$map_QMARK___5429@64110f88\\\\\\\"\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" target area: x=20..30, y=-10..-5\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def test-target\\n  {:min-x 20\\n   :max-x 30\\n   :min-y -10\\n   :max-y -5})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :max-x, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 30, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :max-y, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value -5, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :min-x, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 20, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :min-y, :nextjournal/viewer {:pred #function+ \\\"ojure.core$keyword_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$keyword_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value -10, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_entry_QMARK_ 0x34e8256b \\\\\\\"clojure.core$map_entry_QMARK_@34e8256b\\\\\\\"\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$map_QMARK___5429 0x64110f88 \\\\\\\"clojure.core$map_QMARK___5429@64110f88\\\\\\\"\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Simple predicate to check if a probe state is within the target.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn in-target?\\n  [{:keys [min-x max-x min-y max-y]} {[x y] :pos}]\\n  (and (<= min-x x max-x)\\n       (<= min-y y max-y)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$in_target_QMARK_ 0x33a62434 \\\\\\\"advent_of_code_2021.day17$in_target_QMARK_@33a62434\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Since it doesn't matter where the probe goes after it passes the target there\\n isn't any point in simulating that portion of it's trajectory. This function\\n returns true once the prob is past the target. In the test case and the real \\n case the target is always below and to the right of the starting point.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn past-target?\\n  [{:keys [min-x max-x min-y max-y]} {[x y] :pos}]\\n  (or (< max-x x)\\n      (< y min-y)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$past_target_QMARK_ 0x409ac088 \\\\\\\"advent_of_code_2021.day17$past_target_QMARK_@409ac088\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Like take-while except that it takes until `(f x)` returns true and it\\n includes `x` in the output.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn take-until\\n  [f [x & xs]]\\n  (lazy-seq\\n    (if (f x)\\n      [x]\\n      (cons x (take-until f xs)))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$take_until 0x12f72a42 \\\\\\\"advent_of_code_2021.day17$take_until@12f72a42\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Simulates a shot of the prob. Returns all it's states from the start with\\n the given initial velocity. Simulation stops once the prob is \\\"past\\\" the\\n target.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn shoot\\n  [target iv]\\n  (take-until #(past-target? target %)\\n              (iterate step (init iv))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$shoot 0x556b7486 \\\\\\\"advent_of_code_2021.day17$shoot@556b7486\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## Part 1\\n Since drag causes the prob to always causes the x position to stabilize at\\n there is some minimum initial x velocity or the prob won't ever reach the \\n target in the x direction. Since the probe can skip over the target there is\\n also an maximum x velocity that is the same as the target's max x. \\n The following function finds the all the valid initial x velocities between\\n 1 and that max.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn find-valid-ivxs\\n  [{:keys [min-x max-x] :as target}]\\n  (into []\\n        (filter (fn [ivx]\\n                  (->> (iterate step (init [ivx 0]))\\n                       (take-until\\n                         (fn [{[x y] :pos [vx vy] :vel}]\\n                           (or (= 0 vx)\\n                               (< max-x x))))\\n                       (some (fn [{[x y] :pos}]\\n                               (<= min-x x max-x))))))\\n        (range 1 (inc max-x))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$find_valid_ivxs 0x576e6d9b \\\\\\\"advent_of_code_2021.day17$find_valid_ivxs@576e6d9b\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(find-valid-ivxs test-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 7, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 8, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 9, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5], :nextjournal/value 11, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6], :nextjournal/value 12, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7], :nextjournal/value 13, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8], :nextjournal/value 14, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9], :nextjournal/value 15, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [10], :nextjournal/value 20, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [11], :nextjournal/value 21, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [12], :nextjournal/value 22, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [13], :nextjournal/value 23, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [14], :nextjournal/value 24, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [15], :nextjournal/value 25, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [16], :nextjournal/value 26, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [17], :nextjournal/value 27, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [18], :nextjournal/value 28, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [19], :nextjournal/value 29, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 21, :offset 20, :path [], :remaining 1}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(find-valid-ivxs real-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 11, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 12, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 13, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 14, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5], :nextjournal/value 15, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6], :nextjournal/value 16, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7], :nextjournal/value 17, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8], :nextjournal/value 18, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9], :nextjournal/value 19, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [10], :nextjournal/value 20, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [11], :nextjournal/value 21, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [12], :nextjournal/value 22, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [13], :nextjournal/value 23, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [14], :nextjournal/value 24, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [15], :nextjournal/value 25, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [16], :nextjournal/value 26, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [17], :nextjournal/value 27, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [18], :nextjournal/value 28, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [19], :nextjournal/value 29, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 49, :offset 20, :path [], :remaining 29}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Like the maximum x velocity the minimum y velocity can't be lower (or higher\\n in the negative direction) than the target's min y. I'm sure there is a way\\n to figure out what the max initial y velocity could be but just picking 500\\n works in both the test case and the real case. The following function takes\\n a target and an initial x velocity and finds which initial y velocities will\\n hit the target. It also returns the trajectory the probe took so the maximum\\n y position can be found.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn find-valid-ivys-for-ivx\\n  [target ivx]\\n  (into []\\n        (comp (map (fn [ivy]\\n                     [[ivx ivy] (shoot target [ivx ivy])]))\\n              (filter (fn [[iv trajectory]]\\n                        (some #(in-target? target %) trajectory))))\\n        (range (:min-y target) 500)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$find_valid_ivys_for_ivx 0x4166797e \\\\\\\"advent_of_code_2021.day17$find_valid_ivys_for_ivx@4166797e\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" If this were actual physics the minimum x velocity would provide the \\n trajectory that reaches that max y position. So let's try that here.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn max-height\\n  [trajectory]\\n  (reduce max (map #(get-in % [:pos 1]) trajectory)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$max_height 0x6ae8fe2a \\\\\\\"advent_of_code_2021.day17$max_height@6ae8fe2a\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn solve-part1\\n  [target]\\n  (->> (find-valid-ivxs target)\\n       (reduce min)\\n       (find-valid-ivys-for-ivx target)\\n       (map (fn [[iv trajectory]]\\n              [iv (max-height trajectory)]))\\n       (sort-by second)\\n       (last)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$solve_part1 0x64a968b5 \\\\\\\"advent_of_code_2021.day17$solve_part1@64a968b5\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part1 test-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1], :nextjournal/value 9, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [1], :nextjournal/value 45, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part1 real-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1], :nextjournal/value 188, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [1], :nextjournal/value 17766, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"ojure.core$vector_QMARK___5431 0x2c5157c9 \\\\\\\"clojure.core$vector_QMARK___5431@2c5157c9\\\\\\\"\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## Part 2\\n To find all possible initial velocity vectors one way would be to find the \\n min/max x/y velocities, test them all, and count which one's hit the target.\\n Since I still don't know the maximum y velocity I'm just going to guess 500\\n and see what happens.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn solve-part2\\n  [target]\\n  (->> (find-valid-ivxs target)\\n       (mapcat #(find-valid-ivys-for-ivx target %))\\n       (count)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day17$solve_part2 0x408fd30e \\\\\\\"advent_of_code_2021.day17$solve_part2@408fd30e\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x64e6f678 \\\\\\\"clojure.core$fn_QMARK_@64e6f678\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part2 test-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 112, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part2 real-target)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 1733, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x2c7fb24c \\\\\\\"clojure.core$number_QMARK_@2c7fb24c\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" I think I got lucky on the max initial y velocity thing.\\n\", :nextjournal/viewer :markdown}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :advent-of-code-2021.day17}}"
viewer.reset_doc(viewer.read_string(doc))
viewer.mount(document.getElementById('clerk'))
</script></body></html>