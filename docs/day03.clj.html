<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxQBDwk3cvr1bt8YVL5m6bJGrFEmzrSbCrH1roypLjJr4AbbteCKh9Y6gQVYexdY85QA2HG5nQFLWpRp69zFSPDJ9" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxoxUgsBRs2yjjBBcfeCc8XigM7erXHmjJg2tjdGxNBxwTYuDonuYswXqRStaCA2b3rTEPCgPwixJmAVrea1qAHHU" rel="stylesheet" type="text/css"><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VujAQ3bHzgNYiC3C61DJwUmXP7xW6bB8tT92xAKhDyu5vXReakaHVSrqJfurggZdCJVuAf3B7AujNBvkJAcz974uH" type="text/javascript"></script></head><body><div id="clerk"></div><script>let viewer = nextjournal.clerk.sci_viewer
let doc = "{:nextjournal/value [{:nextjournal/value \"# [Day 03](https://adventofcode.com/2021/day/3) \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(ns advent-of-code-2021.day03\\n  (:require [clojure.java.io :as io]\\n            [clojure.string :as string]\\n            [nextjournal.clerk :as clerk]\\n            [nextjournal.clerk.viewer :as v]))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"ojure.core$nil_QMARK_ 0x2f48adcc \\\\\\\"clojure.core$nil_QMARK_@2f48adcc\\\\\\\"\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" read the input into strings\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def real-input (slurp (io/resource \\\"day03.txt\\\")))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [\\\"001110000001\\\\n010100101000\\\\n101101010010\\\\n010111101010\\\\n100011100110\\\\n110100001011\\\\n100010001100\\\\n011110100\\\" {:nextjournal/value {:path [], :count 13000, :offset 100, :remaining 12900}, :nextjournal/viewer :elision}], :replace-path [0], :nextjournal/viewer {:pred #function+ \\\"ojure.core$string_QMARK___5427 0x4d0402b \\\\\\\"clojure.core$string_QMARK___5427@4d0402b\\\\\\\"\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(def test-input \\\"00100\\n11110\\n10110\\n10111\\n10101\\n01111\\n00111\\n11100\\n10000\\n11001\\n00010\\n01010\\\")\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"00100\\\\n11110\\\\n10110\\\\n10111\\\\n10101\\\\n01111\\\\n00111\\\\n11100\\\\n10000\\\\n11001\\\\n00010\\\\n01010\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$string_QMARK___5427 0x4d0402b \\\\\\\"clojure.core$string_QMARK___5427@4d0402b\\\\\\\"\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" parse each line into a vector of characters\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn read-input\\n  [input]\\n  (map vec (string/split-lines input)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$read_input 0x23e883fb \\\\\\\"advent_of_code_2021.day03$read_input@23e883fb\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" for a specific digit return a map of each unique digit value to the number \\n of times that value appears in the input.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn single-digit-freq\\n  [input i]\\n  (frequencies (map #(nth % i) input)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$single_digit_freq 0x70d259a5 \\\\\\\"advent_of_code_2021.day03$single_digit_freq@70d259a5\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" same as `single-digit-freq` but for all digits.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn digit-frequencies\\n  [input]\\n  (map #(single-digit-freq input %) \\n       (range (count (first input)))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$digit_frequencies 0xcf39749 \\\\\\\"advent_of_code_2021.day03$digit_frequencies@cf39749\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" given a frequency map returns the most common value\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn gamma \\n  [{zero-count \\\\0 one-count \\\\1}]\\n  (if (> zero-count one-count)\\n    \\\\0 \\n    \\\\1))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$gamma 0x1345d18f \\\\\\\"advent_of_code_2021.day03$gamma@1345d18f\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" given a frequency map returns the least common value\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn epsilon\\n  [{zero-count \\\\0 one-count \\\\1}]\\n  (if (> zero-count one-count)\\n    \\\\1 \\n    \\\\0))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$epsilon 0x74d56f47 \\\\\\\"advent_of_code_2021.day03$epsilon@74d56f47\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" given a vector of binary digits return it's decimal equivalent \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn vec->long\\n  [v]\\n  (Long/valueOf (apply str v) 2))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$vec__GT_long 0x16a81f09 \\\\\\\"advent_of_code_2021.day03$vec__GT_long@16a81f09\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" given which function to use (gamma or epsilon) and the frequency maps\\n for each digit calculate the rate\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn calc-rate\\n  [f freqs]\\n  (vec->long (map f freqs)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$calc_rate 0x6719b4a \\\\\\\"advent_of_code_2021.day03$calc_rate@6719b4a\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" finally solve part1\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn solve-part1\\n  [input]\\n  (let [freqs (digit-frequencies input)]\\n    (* (calc-rate gamma freqs)\\n       (calc-rate epsilon freqs))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$solve_part1 0x3b05fba2 \\\\\\\"advent_of_code_2021.day03$solve_part1@3b05fba2\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part1 (read-input test-input))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 198, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x43b9ef41 \\\\\\\"clojure.core$number_QMARK_@43b9ef41\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part1 (read-input real-input))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 2972336, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x43b9ef41 \\\\\\\"clojure.core$number_QMARK_@43b9ef41\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn digit-filter\\n  [i v]\\n  #(= v (nth % i)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$digit_filter 0x64f514d2 \\\\\\\"advent_of_code_2021.day03$digit_filter@64f514d2\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" do the filtering process as described in the problem statement.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn calc-rating\\n  [f input]\\n  (loop [i 0 input input]\\n    (if (= 1 (count input))\\n      (vec->long (first input))\\n      (recur (inc i)\\n             (filter (digit-filter i (f (single-digit-freq input i)))\\n                     input)))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$calc_rating 0x32730f12 \\\\\\\"advent_of_code_2021.day03$calc_rating@32730f12\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(defn solve-part2\\n  [input]\\n  (* (calc-rating gamma input)\\n     (calc-rating epsilon input)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"vent_of_code_2021.day03$solve_part2 0x385269dd \\\\\\\"advent_of_code_2021.day03$solve_part2@385269dd\\\\\\\"\\\", :nextjournal/viewer {:pred #function+ \\\"ojure.core$fn_QMARK_ 0x2dacaa7f \\\\\\\"clojure.core$fn_QMARK_@2dacaa7f\\\\\\\"\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part2 (read-input test-input))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 230, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x43b9ef41 \\\\\\\"clojure.core$number_QMARK_@43b9ef41\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(solve-part2 (read-input real-input))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value 3368358, :nextjournal/viewer {:pred #function+ \\\"ojure.core$number_QMARK_ 0x43b9ef41 \\\\\\\"clojure.core$number_QMARK_@43b9ef41\\\\\\\"\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :nextjournal/viewer :clerk/inline-result}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :advent-of-code-2021.day03}}"
viewer.reset_doc(viewer.read_string(doc))
viewer.mount(document.getElementById('clerk'))
</script></body></html>